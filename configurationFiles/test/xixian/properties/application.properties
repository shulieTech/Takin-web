#web??

#tro-web ???????????

data.path=/data/nfs_dir


#??????

file.upload.script.path=${data.path}

file.upload.tmp.path=${data.path}/scriptfile/temp

script.path=${data.path}/scriptfile

script.temp.path=${file.upload.tmp.path}

pradar.upload.client.dir=${user.dir}/pradar-upload-client


#tro-web url  ????

takin.web.url=http://web-svc:10008/takin-web

#?????????

file.ops_script.path=${data.path}/ops_nfs_dir/

fast.debug.upload.log.path=${data.path}/debug/log/

fast.debug.call.stack.path=${data.path}/debug/callstack/

#agent??tro-web??

file.upload.user.data.dir=${data.path}/tmp_upload

#???

spring.config.whiteListPath=${data.path}/tro/conf/tro-web/api/confcenter/wbmnt/query/

#??????

takin.login.num=3

#???????????, ????

takin.login.time=1

#job????

job.sharding.total.Count=1



#web?cloud??

#tro-cloud url  ????

takin.cloud.url=http://cloud-svc:10010/takin-cloud


#???IP????

resource.mysql.host=10.125.131.12

amdb.url.amdb=http://amdb-svc:10032


##########e2e###########

#??????????0???????????????? 1?????????????

patrol.engine.type=0

e2e.engine.type=0

#????????????????????????????300??

e2e.error.alert.interval=120

#???????????????????????????300??

e2e.count.data.interval=120

#?????????? ????

patrol.bottleneck.detail=http://web-ui-svc/tro/#/bottleneckTable/bottleneckDetails?exceptionId=

e2e.bottleneck.detail=http://web-ui-svc/tro/#/pro/bottleneckTable/bottleneckDetails?exceptionId=

#??????????????

patrol.tech_node.middleware_name=http,dubbo,rocketmq,rabbitmq,kafka,elasticjob,grpc,apache-kafka,mysql,tomcat,redis,httpclient4,google-guava,ons,sto-event,apache-dubbo

##########e2e###########


#??????

takin.front.url.system=#/configCenter/systemInfo

#????

takin.front.url.default=#/dashboard

#????

takin-web.server.config={"loginType": 1, "domain": "web-ui-svc"}


#######################??????????????####################

#??????

#????????

spring.servlet.multipart.max-file-size=200MB

##????????

spring.servlet.multipart.max-request-size=200MB

#tomcat????

server.tomcat.basedir=${data.path}

server.tomcat.max-threads=1000

server.tomcat.max-connections=500

#mysql??

spring.datasource.url=jdbc:mysql://${resource.mysql.host}:4418/trodb?useUnicode=true&characterEncoding=UTF-8&useSSL=false&allowMultiQueries=true

spring.datasource.type=com.alibaba.druid.pool.DruidDataSource

spring.datasource.driverClassName=com.mysql.jdbc.Driver

spring.datasource.username=stresstest

spring.datasource.password=ca$hc0Wa

spring.datasource.initialSize=1

spring.datasource.minIdle=3

spring.datasource.maxActive=20

spring.datasource.maxWait=60000

spring.datasource.timeBetweenEvictionRunsMillis=60000

spring.datasource.minEvictableIdleTimeMillis=30000

spring.datasource.validationQuery=select 'x'

spring.datasource.testWhileIdle=true

spring.datasource.testOnBorrow=false

spring.datasource.poolPreparedStatements=true

spring.datasource.maxPoolPreparedStatementPerConnectionSize=20

spring.datasource.filters=stat,wall,slf4j

spring.datasource.connectionProperties=druid.stat.mergeSql=true;druid.stat.slowSqlMillis=5000

#redis??

spring.redis.cluster.nodes=10.125.128.119:32728,10.125.128.117:32728,10.125.11.126:32982,10.125.128.93:32553,10.125.11.124:32996,10.125.11.125:32996
spring.redis.password=ca$hc0Wa
spring.redis.timeout=10000
spring.redis.jedis.pool.max-active=100
spring.redis.jedis.pool.max-wait=-1

#??sessionId????24??

login.expire.time=86400

#2022?4?28???

# ??amdb??????

call.amdb.eagle_size=300

###############################################################


#0617????

# cloud????

takin.config.zk.timeOut=15000

report.aggregation.interval=5s


#nfs??

nfs.warning.percent=75


#
# pressure.image.name=harbor.dcos.xixian.unicom.local/skyeye-platform/stresstest/pressure-engine:2.0.0

pressure.callback.ignore.type=100,200,303

pressure.node.heartbeat.expireTime=60



pdf.path=/data/nfs_dir/takin/web/report/pdf


#4?20?????

## ????

apisix.web.keyUrl=

### #??token

apisix.web.token=

### # ???????

agent.ds.compareVersion=5.3.1.0

### # oracle

ds.database.url=jdbc:oracle:thin

### # ???????,??code??

tenant.menu.filter=securityCenter_trafficConfig,securityCenter_keysConfig


#0802????

#flyway??

#flyway????????????

spring.flyway.enabled=false

#flyway??????????, ??

spring.flyway.clean-on-validation-error=false

#flyway?????????, ???

spring.flyway.clean-disabled=true

spring.flyway.url=${spring.datasource.url}

spring.flyway.user=${spring.datasource.username}

spring.flyway.password=${spring.datasource.password}

spring.flyway.table="t_migration_history"

spring.flyway.baseline-on-migrate=true

spring.flyway.baseline-version=1

#flyway??????, ????

spring.flyway.validate-on-migrate=false

liantong.skyEye.path=https://10.125.18.246

liantong.menu=true

### ????
traffic.recorder.query.service.url=https://tianyan.test.tg.unicom.local/callEvolution/jgyj/getRpcAnalysis
traffic.recorder.query.max.size=50000
#traffic.recorder.trace.clearScript: requestMap = jsonToMap(removeB(requestBody));\nMap resultMap = new HashMap();\n resultMap.put(\"mobile\",requestMap.get(\"mobile\"));\n resultMap.put(\"password\",requestMap.get(\"password\"));\n return resultMap;
#traffic.recorder.trace.clearScript: requestMap = jsonToMap(requestBody);\nMap resultMap = new HashMap(); \n  if (requestMap.get(\"userName\") == null) { \n requestMap.put(\"userName\",\" \")} \n if (requestMap.get(\"captcha\") == null) { \n requestMap.put(\"captcha\",\" \")} \n resultMap.put(\"userName\",requestMap.get(\"userName\"));\n resultMap.put(\"captcha\",requestMap.get(\"captcha\"));\n return resultMap;
traffic.recorder.trace.clearScript: requestMap = jsonToMap(requestBody);\nMap resultMap = new HashMap(); \n  if (requestMap.get(\"userName\") != null) { \n resultMap.put(\"userName\",requestMap.get(\"userName\"));} \n if (requestMap.get(\"captcha\") != null) { \n resultMap.put(\"captcha\",requestMap.get(\"captcha\"));} \n return resultMap;

# ??
traffic.recorder.trace.fetch.sqlColumns=transactionId traceId,applicationId appName,requestUrl serviceName,requestMethod methodName,requestHeader,requestBody,responseHeader,responseBody,statusCode resultCode,collectorAcceptTime startTime
traffic.recorder.trace.fetch.sqlPart=from d_ccm_http_msg where applicationId =:appName  and requestUrl like concat('%',:serviceName)  and systemCode =:systemCode and collectorAcceptTime > :recordBeginTime and collectorAcceptTime <= :recordEndTime
traffic.recorder.trace.rpcTypes=''
traffic.recorder.service=unicomTrafficRecorderService
traffic.recorder.clickhouse.url=jdbc:clickhouse://10.161.136.73:48123,10.161.136.74:48123,10.161.136.75:48123,10.161.136.76:48123,10.161.225.172:48123,10.161.225.173:48123,10.161.225.174:48123,10.161.225.175:48123/default

traffic.recorder.clickhouse.userName=stresstest
traffic.recorder.clickhouse.password=stresstest@Tianyan2022
takin.clickhouse.url=jdbc:clickhouse://10.161.55.19:48123,10.161.55.17:48123/default
takin.clickhouse.userName=default
takin.clickhouse.password=6lYaUiFi

xxl.job.admin.addresses: http://xxl-job-svc:8103/xxl-job-admin
xxl.job.accessToken: default_token
xxl.job.executor.appname: takin-web
xxl.job.executor.port: 9998
xxl.job.executor.logpath: /data/apps/takin-web/xxl-job/jobhandler
xxl.job.executor.logretentiondays: 1

maven.pull.job.enable=false
agent.ds.useNewVersionShadowTemplate=true